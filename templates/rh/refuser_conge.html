{% extends "base.html" %}
{% block title %}Refuser une demande de congé{% endblock %}

{% block content %}
<div class="mb-6">
    <a href="{{ url_for('rh.salarie_detail', user_id=conge.user_id) }}" class="text-erpac-primary hover:text-erpac-dark text-sm">&larr; Retour au profil</a>
    <h1 class="text-2xl font-bold text-gray-800 mt-2">Refuser la demande de congé</h1>
    <p class="text-gray-500 mt-1">
        {{ conge.utilisateur.prenom if conge.utilisateur else '' }} {{ conge.utilisateur.nom if conge.utilisateur else '' }} —
        {{ conge.date_debut.strftime('%d/%m/%Y') }} → {{ conge.date_fin.strftime('%d/%m/%Y') }} ({{ conge.nb_jours_ouvrables }} jour(s) - {{ conge.type_conge }})
    </p>
</div>

<div class="bg-white rounded-xl shadow p-8 max-w-2xl">
    <form method="POST" class="space-y-6">
        <div>
            <label for="motif_refus" class="block text-sm font-medium text-gray-700 mb-1">Motif de refus <span class="text-red-500">*</span></label>
            <textarea id="motif_refus" name="motif_refus" rows="4" required
                      class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"
                      placeholder="Indiquez le motif du refus (obligatoire pour informer le salarié)..."></textarea>
        </div>
        <div class="flex space-x-4">
            <button type="submit"
                    class="bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-6 rounded-lg transition">
                Confirmer le refus
            </button>
            <a href="{{ url_for('rh.salarie_detail', user_id=conge.user_id) }}"
               class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-3 px-6 rounded-lg transition">
                Annuler
            </a>
        </div>
    </form>
</div>
{% endblock %}
