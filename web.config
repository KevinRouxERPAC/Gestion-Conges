<?xml version="1.0" encoding="utf-8"?>
<!--
  Configuration IIS pour Gestion Conges (HttpPlatformHandler + Waitress).
  IMPORTANT :
  - Le site est utilise en HTTP uniquement. Ne pas ajouter de regle de reecriture vers HTTPS.
  - Chemin physique du site dans IIS : ce dossier (ex. C:\Sites\Gestion-Conges).
  - Creer le dossier "logs" a la racine (droits ecriture pour le pool IIS).
  - Verifier que .venv existe (ou adapter processPath vers venv\Scripts\python.exe).
-->
<configuration>
  <system.webServer>
    <handlers>
      <add name="httpPlatformHandler" path="*" verb="*" modules="httpPlatformHandler" resourceType="Unspecified" />
    </handlers>
    <httpPlatform processPath="C:\Sites\Gestion-Conges\.venv\Scripts\python.exe" arguments="run_wsgi.py" workingDirectory="C:\Sites\Gestion-Conges" stdoutLogEnabled="true" stdoutLogFile="C:\Sites\Gestion-Conges\logs\stdout.log" startupTimeLimit="30">
      <environmentVariables>
        <environmentVariable name="SECRET_KEY" value="Gh3InTZ80Q5mYfkmZiVWIVoRewwJ0ISDrsXsqdMjxPk=" />
        <environmentVariable name="PYTHONUNBUFFERED" value="1" />
      </environmentVariables>
    </httpPlatform>
  </system.webServer>
</configuration>
